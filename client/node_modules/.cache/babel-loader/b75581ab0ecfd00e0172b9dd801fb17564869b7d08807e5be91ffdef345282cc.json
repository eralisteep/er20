{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\butabayev.yerali\\\\Documents\\\\GitHub\\\\er17\\\\client\\\\src\\\\components\\\\modals\\\\DeleteDevice.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Modal, Button, Dropdown } from 'react-bootstrap';\nimport { Context } from '../..';\nimport { fetchDevices, deleteDevice } from '../../http/deviceAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeleteDevice = ({\n  show,\n  onHide\n}) => {\n  _s();\n  const {\n    device\n  } = useContext(Context);\n  const [selectedDevice, setSelectedDevice] = useState(null);\n  useEffect(() => {\n    fetchDevices().then(data => device.setDevices(data));\n  }, [device]);\n  const handleDelete = () => {\n    if (selectedDevice) {\n      deleteDevice(selectedDevice.id).then(() => {\n        device.setDevices(device.devices.filter(d => d.id !== selectedDevice.id));\n        setSelectedDevice(null);\n        onHide();\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: onHide,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043E\\u043F\\u0440\\u043E\\u0441\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Dropdown, {\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n          variant: \"success\",\n          id: \"dropdown-basic\",\n          children: device.selectedDevice.name || \"Выберите устройство\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n          children: Array.isArray(device.devices) && device.devices.map(deviceItem => /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            onClick: () => device.setSelectedDevice(deviceItem),\n            children: deviceItem.name\n          }, deviceItem.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-danger\",\n        onClick: onHide,\n        children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-success\",\n        onClick: handleDelete,\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n_s(DeleteDevice, \"dscR7FmAam1afRDrOwvw4TXlVFw=\");\n_c = DeleteDevice;\nexport default DeleteDevice;\nvar _c;\n$RefreshReg$(_c, \"DeleteDevice\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Modal","Button","Dropdown","Context","fetchDevices","deleteDevice","jsxDEV","_jsxDEV","DeleteDevice","show","onHide","_s","device","selectedDevice","setSelectedDevice","then","data","setDevices","handleDelete","id","devices","filter","d","children","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","Toggle","variant","name","Menu","Array","isArray","map","deviceItem","Item","onClick","Footer","_c","$RefreshReg$"],"sources":["C:/Users/butabayev.yerali/Documents/GitHub/er17/client/src/components/modals/DeleteDevice.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { Modal, Button, Dropdown } from 'react-bootstrap';\r\nimport { Context } from '../..';\r\nimport { fetchDevices, deleteDevice } from '../../http/deviceAPI';\r\n\r\nconst DeleteDevice = ({ show, onHide }) => {\r\n  const { device } = useContext(Context);\r\n  const [selectedDevice, setSelectedDevice] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchDevices().then(data => device.setDevices(data));\r\n  }, [device]);\r\n\r\n  const handleDelete = () => {\r\n    if (selectedDevice) {\r\n      deleteDevice(selectedDevice.id).then(() => {\r\n        device.setDevices(device.devices.filter(d => d.id !== selectedDevice.id));\r\n        setSelectedDevice(null);\r\n        onHide();\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Удалить опрос</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n      <Dropdown>\r\n        <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n          {device.selectedDevice.name || \"Выберите устройство\"}\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu>\r\n          {Array.isArray(device.devices) && device.devices.map(deviceItem =>\r\n            <Dropdown.Item\r\n              onClick={() => device.setSelectedDevice(deviceItem)}\r\n              key={deviceItem.id}\r\n            >\r\n              {deviceItem.name}\r\n            </Dropdown.Item>\r\n          )}\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"outline-danger\" onClick={onHide}>Закрыть</Button>\r\n        <Button variant=\"outline-success\" onClick={handleDelete}>Удалить</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default DeleteDevice;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}